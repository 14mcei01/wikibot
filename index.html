<!DOCTYPE html>
<html>
<head>
    <title>jQM Complex Demo</title>
    <!-- <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0"/> -->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <meta http-equiv="Content-Security-Policy" content="default-src *; style-src 'self' 'unsafe-inline'; script-src: 'self' 'unsafe-inline' 'unsafe-eval'>
    <link rel="stylesheet" href="css/jquery.mobile-1.4.2.min.css" /> 
    <script src="js/jquery-1.9.1.min.js"></script>
    <script src="js/jquery.mobile-1.4.2.min.js"></script>    
    <script src="phonegap.js"></script>
    <script src="GAPlugin.js"></script>
	
		<script type="text/javascript">
			var gaPlugin;
		
			function initialize() {
    			document.addEventListener("deviceready", onDeviceReady, true);
			}
		
			function onDeviceReady() {
				gaPlugin = window.plugins.gaPlugin;
				gaPlugin.startTrackerWithId('UA-46724967-4') 
				// Note: A request for permission is REQUIRED by google. You probably want to do this just once, though, and remember the answer for subsequent runs.
				navigator.notification.confirm('GA_PLUGIN would like your permission to collect usage data. No personal or user identifiable data will be collected.', permissionCallback, 'Attention', 'Allow,Deny');
				
			}
		
			function permissionCallback (button) {
				if (button === 1)
					gaPlugin.init(nativePluginResultHandler, nativePluginErrorHandler, "UA-46724967-4", 10);
			}
			function nativePluginResultHandler (result) {
				//alert('nativePluginResultHandler - '+result);
				console.log('nativePluginResultHandler: '+result);
			}
        
			function nativePluginErrorHandler (error) {
				//alert('nativePluginErrorHandler - '+error);
				console.log('nativePluginErrorHandler: '+error);
			}
			
			function TrackButtonClicked() {
				gaPlugin.trackEvent( nativePluginResultHandler, nativePluginErrorHandler, "Button", "Click", "event only", 1);
			}
        
			function VariableButtonClicked() {
				// Set a dimension based on index and value. Make sure you have added a dimension in the GA dashboard to the
				// default property for the passed in index, and your desired scope. GA allows up to 20 dimensions for a free account
				gaPlugin.setVariable( nativePluginResultHandler, nativePluginErrorHandler, 1, "Purple");
				// dimensions are are passed to the next event sent to GA. go ahead and fire off an event with the label (key) of your choice
				// In this example, the label for custom dimension 1 will show up in the dashboard as "favoriteColor". This is much more efficent
				// than the old custom variable method introduced in V1, (plus you get 20 free dimensions vs 5 free custom variables)
				gaPlugin.trackEvent( nativePluginResultHandler, nativePluginErrorHandler, "event with variable", "set variable", "favoriteColor", 1);
			}
        
			function PageButtonClicked() {
				gaPlugin.trackPage( nativePluginResultHandler, nativePluginErrorHandler, "some.url.com");
			}
			
			function goingAway() {
				gaPlugin.exit(nativePluginResultHandler, nativePluginErrorHandler);
			}
			
		</script>
    
</head>
<body  onload="onDeviceReady()">
    <div data-role="page" id="login" data-theme="a">
        <div data-role="header" data-theme="b" data-position="fixed">
		<center>
            <p><font color="#0099ff" style="font-size: 100%">Wiki BoT</font><span id='loadingmessage' style='display:none'>
  <img src='ajax-loader.gif' height="2%" width="10%" />
</span></p>
		</center>
        </div>
  
        <div data-role="content" >
           <span id="msg" style="height:80%">  </span>                    
        </div>
  
        <div id="box" data-role="footer" data-position="fixed">
		 <form role="form">
                            <div class="form-group">
                                <textarea id="term" class="form-control" placeholder="Enter message..." value="" style="width:100%"></textarea>
								
                            </div>
                            <div class="form-group">
                                <button id="search" type="button" class="btn btn-default pull-right" style="width:100%">Send</button>
                                <div class="clearfix"></div>
                            </div>
                        </form>
    </div>
   
 <script src = "parse2.js"></script>
</body>
</html>
